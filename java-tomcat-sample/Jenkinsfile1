pipeline {
	agent any
	stages {
		steps('Build Application') {
			
				sh 'mvn -f java-tomcat-sample/pom.xml clean package'
			
			post {
				success {
					echo "now archiving the artifacts"
					archiveArtifacts artifacts: '**/*.war'
				}
			}
			steps('Deploy in staging environment') {
				
					build job: 'Deploy application in staging environment'
				
			}
				
		}
		
	}
}	
